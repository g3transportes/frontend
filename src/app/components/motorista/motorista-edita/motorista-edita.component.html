<p-blockUI [blocked]="loading.Status">
    <p-progressBar mode="indeterminate"></p-progressBar>
</p-blockUI>
<p-tabView *ngIf="vm != null">
    <p-tabPanel header="Informações do Motorista">
        <div class="p-grid">
            <div class="p-col-12 p-md-6 p-lg-6 ui-fluid form-item">
                <label>Nome</label>
                <input type="text" pInputText [(ngModel)]="vm.Nome"> 
            </div>
            <div class="p-col-12 p-md-6 p-lg-6 ui-fluid form-item">
                <label>Email</label>
                <input type="text" pInputText [(ngModel)]="vm.Email"> 
            </div>

            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Telefone 1</label>
                <input type="text" pInputText [(ngModel)]="vm.Telefone1" telefoneMask> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Telefone 2</label>
                <input type="text" pInputText [(ngModel)]="vm.Telefone2" telefoneMask> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Telefone 3</label>
                <input type="text" pInputText [(ngModel)]="vm.Telefone3" telefoneMask> 
            </div>

            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>CPF</label>
                <input type="text" pInputText [(ngModel)]="vm.Documento1" cpfCnpjMask> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>RG</label>
                <input type="text" pInputText [(ngModel)]="vm.Documento2"> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Habilitação</label>
                <input type="text" pInputText [(ngModel)]="vm.Documento3"> 
            </div>

            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Categoria</label>
                <input type="text" pInputText [(ngModel)]="vm.Categoria"> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Data Habilitação</label>
                <p-calendar appendTo="body" [(ngModel)]="vm.DataHabilitacao" [showIcon]="true" [locale]="localeBR" dateFormat="dd/mm/yy" showButtonBar="true"></p-calendar>
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Venc. Habilitação</label>
                <p-calendar appendTo="body" [(ngModel)]="vm.DataVencimento" [showIcon]="true" [locale]="localeBR" dateFormat="dd/mm/yy" showButtonBar="true"></p-calendar>
            </div>

            <div class="p-col-12 form-item">
                <hr>
            </div>

            <div class="p-col-12 p-md-8 p-lg-8 ui-fluid form-item">
                <label>Rua</label>
                <input type="text" pInputText [(ngModel)]="vm.EndRua"> 
            </div>
            <div class="p-col-12 p-md-2 p-lg-2 ui-fluid form-item">
                <label>Número</label>
                <input type="text" pInputText [(ngModel)]="vm.EndNumero"> 
            </div>
            <div class="p-col-12 p-md-2 p-lg-2 ui-fluid form-item">
                <label>Complemento</label>
                <input type="text" pInputText [(ngModel)]="vm.EndComplemento"> 
            </div>

            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Bairro</label>
                <input type="text" pInputText [(ngModel)]="vm.EndBairro"> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Cidade</label>
                <input type="text" pInputText [(ngModel)]="vm.EndCidade"> 
            </div>
            <div class="p-col-12 p-md-2 p-lg-2 ui-fluid form-item">
                <label>Estado</label>
                <input type="text" pInputText [(ngModel)]="vm.EndEstado"> 
            </div>
            <div class="p-col-12 p-md-2 p-lg-2 ui-fluid form-item">
                <label>Cep</label>
                <input type="text" pInputText [(ngModel)]="vm.EndCep" cepMask> 
            </div>

            <!--
            <div class="p-col-12 form-item">
                <hr>
            </div>

            <div class="p-col-12 ui-fluid form-item">
                <label>Observações</label>
                <textarea [rows]="3" pInputTextarea [(ngModel)]="vm.Observacao"></textarea> 
            </div>
            -->
            <div class="p-col-12" *ngIf="vm.Id != 0">
                <p-checkbox label="Registro ativo" [(ngModel)]="vm.Ativo" binary="true"></p-checkbox>
            </div>
        </div>
    </p-tabPanel>

    <p-tabPanel header="Dados Bancários">
        <div class="p-grid">
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Banco</label>
                <input type="text" pInputText [(ngModel)]="vm.BancoNome"> 
            </div>
            <div class="p-col-12 p-md-2 p-lg-2 ui-fluid form-item">
                <label>Agência</label>
                <input type="text" pInputText [(ngModel)]="vm.BancoAgencia"> 
            </div>
            <div class="p-col-12 p-md-2 p-lg-2 ui-fluid form-item">
                <label>Operação</label>
                <input type="text" pInputText [(ngModel)]="vm.BancoOperacao"> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Conta</label>
                <input type="text" pInputText [(ngModel)]="vm.BancoConta"> 
            </div>
            <div class="p-col-12 p-md-8 p-lg-8 ui-fluid form-item">
                <label>Titular</label>
                <input type="text" pInputText [(ngModel)]="vm.BancoTitular"> 
            </div>
            <div class="p-col-12 p-md-4 p-lg-4 ui-fluid form-item">
                <label>Documento</label>
                <input type="text" pInputText [(ngModel)]="vm.BancoDocumento" cpfCnpjMask> 
            </div>
        </div>
    </p-tabPanel>

    <p-tabPanel header="Anexos">
        <p-toolbar>
            <div class="ui-toolbar-group-right">
                <button pButton type="button" icon="pi pi-upload" iconPos="left" label="Adicionar Arquivo" (click)="onAdicionaAnexo_Click()"></button>
            </div>
        </p-toolbar>
        
        <p-table [value]="vm.Anexos">
            <ng-template pTemplate="header">
                <tr>
                    <th>Arquivo</th>
                    <th style="width: 100px">Ações</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-anexo>
                <tr>
                    <td>
                        <a [href]="anexo.Anexo.Arquivo" target="_blank">
                            {{ anexo.Anexo.Nome }}
                        </a>
                    </td>
                    <td class="text-align-center">
                        <a class="action-danger" (click)="onDeletaAnexo_Click(anexo)">
                            <i class="pi pi-times"></i>
                        </a>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="2" class="text-align-center">
                        Nenhum registro encontrado
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-tabPanel>
</p-tabView>

<div class="form-footer">
    <button pButton type="button" icon="pi pi-save" iconPos="left" label="Salvar Registro" class="float-right" (click)="onSalvar_Click()" [disabled]="loading.Status"></button>
</div>